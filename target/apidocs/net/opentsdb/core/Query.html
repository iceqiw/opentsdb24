<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_211) on Mon Jun 24 14:28:59 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Query (OpenTSDB 2.4.0 API)</title>
<meta name="date" content="2019-06-24">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Query (OpenTSDB 2.4.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Query.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/opentsdb/core/MutableDataPoint.html" title="class in net.opentsdb.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/opentsdb/core/QueryException.html" title="class in net.opentsdb.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/opentsdb/core/Query.html" target="_top">Frames</a></li>
<li><a href="Query.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.opentsdb.core</div>
<h2 title="Interface Query" class="title">Interface Query</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Query</span></pre>
<div class="block">A query to retrieve data from the TSDB.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#configureFromQuery-net.opentsdb.core.TSQuery-int-">configureFromQuery</a></span>(<a href="../../../net/opentsdb/core/TSQuery.html" title="class in net.opentsdb.core">TSQuery</a>&nbsp;query,
                  int&nbsp;index)</code>
<div class="block">Prepares a query against HBase by setting up group bys and resolving
 strings to UIDs asynchronously.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#downsample-long-net.opentsdb.core.Aggregator-">downsample</a></span>(long&nbsp;interval,
          <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;downsampler)</code>
<div class="block">Downsamples the results by specifying a fixed interval between points.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#downsample-long-net.opentsdb.core.Aggregator-net.opentsdb.core.FillPolicy-">downsample</a></span>(long&nbsp;interval,
          <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;downsampler,
          <a href="../../../net/opentsdb/core/FillPolicy.html" title="enum in net.opentsdb.core">FillPolicy</a>&nbsp;fill_policy)</code>
<div class="block">Sets an optional downsampling function on this query</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#getDelete--">getDelete</a></span>()</code>
<div class="block">Returns whether or not the data queried will be deleted.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#getEndTime--">getEndTime</a></span>()</code>
<div class="block">Returns the end time of the graph.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#getQueryIdx--">getQueryIdx</a></span>()</code>
<div class="block">Returns an index for this sub-query in the original set of queries.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#getStartTime--">getStartTime</a></span>()</code>
<div class="block">Returns the start time of the graph.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#isHistogramQuery--">isHistogramQuery</a></span>()</code>
<div class="block">Check this is a histogram query or not</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../net/opentsdb/core/DataPoints.html" title="interface in net.opentsdb.core">DataPoints</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#run--">run</a></span>()</code>
<div class="block">Runs this query.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/core/DataPoints.html" title="interface in net.opentsdb.core">DataPoints</a>[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#runAsync--">runAsync</a></span>()</code>
<div class="block">Executes the query asynchronously</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../net/opentsdb/core/DataPoints.html" title="interface in net.opentsdb.core">DataPoints</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#runHistogram--">runHistogram</a></span>()</code>
<div class="block">Runs this query.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/core/DataPoints.html" title="interface in net.opentsdb.core">DataPoints</a>[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#runHistogramAsync--">runHistogramAsync</a></span>()</code>
<div class="block">Runs this query asynchronously.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#setDelete-boolean-">setDelete</a></span>(boolean&nbsp;delete)</code>
<div class="block">Sets whether or not the data queried will be deleted.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#setEndTime-long-">setEndTime</a></span>(long&nbsp;timestamp)</code>
<div class="block">Sets the end time of the graph.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#setPercentiles-java.util.List-">setPercentiles</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang">Float</a>&gt;&nbsp;percentiles)</code>
<div class="block">Set the percentile calculation parameters for this query if this is 
 a histogram query</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#setStartTime-long-">setStartTime</a></span>(long&nbsp;timestamp)</code>
<div class="block">Sets the start time of the graph.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#setTimeSeries-java.util.List-net.opentsdb.core.Aggregator-boolean-">setTimeSeries</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tsuids,
             <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;function,
             boolean&nbsp;rate)</code>
<div class="block">Sets up a query for the given timeseries UIDs.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#setTimeSeries-java.util.List-net.opentsdb.core.Aggregator-boolean-net.opentsdb.core.RateOptions-">setTimeSeries</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tsuids,
             <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;function,
             boolean&nbsp;rate,
             <a href="../../../net/opentsdb/core/RateOptions.html" title="class in net.opentsdb.core">RateOptions</a>&nbsp;rate_options)</code>
<div class="block">Sets up a query for the given timeseries UIDs.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#setTimeSeries-java.lang.String-java.util.Map-net.opentsdb.core.Aggregator-boolean-">setTimeSeries</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;metric,
             <a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tags,
             <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;function,
             boolean&nbsp;rate)</code>
<div class="block">Sets the time series to the query.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/core/Query.html#setTimeSeries-java.lang.String-java.util.Map-net.opentsdb.core.Aggregator-boolean-net.opentsdb.core.RateOptions-">setTimeSeries</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;metric,
             <a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tags,
             <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;function,
             boolean&nbsp;rate,
             <a href="../../../net/opentsdb/core/RateOptions.html" title="class in net.opentsdb.core">RateOptions</a>&nbsp;rate_options)</code>
<div class="block">Sets the time series to the query.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setStartTime-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStartTime</h4>
<pre>void&nbsp;setStartTime(long&nbsp;timestamp)</pre>
<div class="block">Sets the start time of the graph.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timestamp</code> - The start time, all the data points returned will have a
 timestamp greater than or equal to this one.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if timestamp is less than or equal to 0,
 or if it can't fit on 32 bits.</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if
 <code>timestamp &gt;= </code><a href="../../../net/opentsdb/core/Query.html#getEndTime--"><code>getEndTime</code></a>.</dd>
</dl>
</li>
</ul>
<a name="getStartTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStartTime</h4>
<pre>long&nbsp;getStartTime()</pre>
<div class="block">Returns the start time of the graph.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A strictly positive integer.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if <a href="../../../net/opentsdb/core/Query.html#setStartTime-long-"><code>setStartTime(long)</code></a> was never 
 called on this instance before.</dd>
</dl>
</li>
</ul>
<a name="setEndTime-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEndTime</h4>
<pre>void&nbsp;setEndTime(long&nbsp;timestamp)</pre>
<div class="block">Sets the end time of the graph.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timestamp</code> - The end time, all the data points returned will have a
 timestamp less than or equal to this one.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if timestamp is less than or equal to 0,
 or if it can't fit on 32 bits.</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if
 <code>timestamp &lt;= </code><a href="../../../net/opentsdb/core/Query.html#getStartTime--"><code>getStartTime</code></a>.</dd>
</dl>
</li>
</ul>
<a name="getEndTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndTime</h4>
<pre>long&nbsp;getEndTime()</pre>
<div class="block">Returns the end time of the graph.
 <p>
 If <a href="../../../net/opentsdb/core/Query.html#setEndTime-long-"><code>setEndTime(long)</code></a> was never called before, this method will
 automatically execute
 <a href="../../../net/opentsdb/core/Query.html#setEndTime-long-"><code>setEndTime</code></a><code>(System.currentTimeMillis() / 1000)</code>
 to set the end time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A strictly positive integer.</dd>
</dl>
</li>
</ul>
<a name="setDelete-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDelete</h4>
<pre>void&nbsp;setDelete(boolean&nbsp;delete)</pre>
<div class="block">Sets whether or not the data queried will be deleted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>delete</code> - True if data should be deleted, false otherwise.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.2</dd>
</dl>
</li>
</ul>
<a name="getDelete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDelete</h4>
<pre>boolean&nbsp;getDelete()</pre>
<div class="block">Returns whether or not the data queried will be deleted.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A boolean</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.2</dd>
</dl>
</li>
</ul>
<a name="setTimeSeries-java.lang.String-java.util.Map-net.opentsdb.core.Aggregator-boolean-net.opentsdb.core.RateOptions-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeSeries</h4>
<pre>void&nbsp;setTimeSeries(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;metric,
                   <a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tags,
                   <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;function,
                   boolean&nbsp;rate,
                   <a href="../../../net/opentsdb/core/RateOptions.html" title="class in net.opentsdb.core">RateOptions</a>&nbsp;rate_options)
            throws <a href="../../../net/opentsdb/uid/NoSuchUniqueName.html" title="class in net.opentsdb.uid">NoSuchUniqueName</a></pre>
<div class="block">Sets the time series to the query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metric</code> - The metric to retrieve from the TSDB.</dd>
<dd><code>tags</code> - The set of tags of interest.</dd>
<dd><code>function</code> - The aggregation function to use.</dd>
<dd><code>rate</code> - If true, the rate of the series will be used instead of the
 actual values.</dd>
<dd><code>rate_options</code> - If included specifies additional options that are used
 when calculating and graph rate values</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../net/opentsdb/uid/NoSuchUniqueName.html" title="class in net.opentsdb.uid">NoSuchUniqueName</a></code> - if the name of a metric, or a tag name/value
 does not exist.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0</dd>
</dl>
</li>
</ul>
<a name="setTimeSeries-java.lang.String-java.util.Map-net.opentsdb.core.Aggregator-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeSeries</h4>
<pre>void&nbsp;setTimeSeries(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;metric,
                   <a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tags,
                   <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;function,
                   boolean&nbsp;rate)
            throws <a href="../../../net/opentsdb/uid/NoSuchUniqueName.html" title="class in net.opentsdb.uid">NoSuchUniqueName</a></pre>
<div class="block">Sets the time series to the query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metric</code> - The metric to retrieve from the TSDB.</dd>
<dd><code>tags</code> - The set of tags of interest.</dd>
<dd><code>function</code> - The aggregation function to use.</dd>
<dd><code>rate</code> - If true, the rate of the series will be used instead of the
 actual values.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../net/opentsdb/uid/NoSuchUniqueName.html" title="class in net.opentsdb.uid">NoSuchUniqueName</a></code> - if the name of a metric, or a tag name/value
 does not exist.</dd>
</dl>
</li>
</ul>
<a name="setTimeSeries-java.util.List-net.opentsdb.core.Aggregator-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeSeries</h4>
<pre>void&nbsp;setTimeSeries(<a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tsuids,
                   <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;function,
                   boolean&nbsp;rate)</pre>
<div class="block">Sets up a query for the given timeseries UIDs. For now, all TSUIDs in the
 group must share a common metric. This is to avoid issues where the scanner
 may have to traverse the entire data table if one TSUID has a metric of 
 000001 and another has a metric of FFFFFF. After modifying the query code
 to run asynchronously and use different scanners, we can allow different 
 TSUIDs.
 <b>Note:</b> This method will not check to determine if the TSUIDs are 
 valid, since that wastes time and we *assume* that the user provides TSUIDs
 that are up to date.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tsuids</code> - A list of one or more TSUIDs to scan for</dd>
<dd><code>function</code> - The aggregation function to use on results</dd>
<dd><code>rate</code> - Whether or not the results should be converted to a rate</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the tsuid list is null, empty or the
 TSUIDs do not share a common metric</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0</dd>
</dl>
</li>
</ul>
<a name="setTimeSeries-java.util.List-net.opentsdb.core.Aggregator-boolean-net.opentsdb.core.RateOptions-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimeSeries</h4>
<pre>void&nbsp;setTimeSeries(<a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;tsuids,
                   <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;function,
                   boolean&nbsp;rate,
                   <a href="../../../net/opentsdb/core/RateOptions.html" title="class in net.opentsdb.core">RateOptions</a>&nbsp;rate_options)</pre>
<div class="block">Sets up a query for the given timeseries UIDs. For now, all TSUIDs in the
 group must share a common metric. This is to avoid issues where the scanner
 may have to traverse the entire data table if one TSUID has a metric of 
 000001 and another has a metric of FFFFFF. After modifying the query code
 to run asynchronously and use different scanners, we can allow different 
 TSUIDs.
 <b>Note:</b> This method will not check to determine if the TSUIDs are 
 valid, since that wastes time and we *assume* that the user provides TSUIDs
 that are up to date.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tsuids</code> - A list of one or more TSUIDs to scan for</dd>
<dd><code>function</code> - The aggregation function to use on results</dd>
<dd><code>rate</code> - Whether or not the results should be converted to a rate</dd>
<dd><code>rate_options</code> - If included specifies additional options that are used
 when calculating and graph rate values</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the tsuid list is null, empty or the
 TSUIDs do not share a common metric</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0</dd>
</dl>
</li>
</ul>
<a name="configureFromQuery-net.opentsdb.core.TSQuery-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>configureFromQuery</h4>
<pre>com.stumbleupon.async.Deferred&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;configureFromQuery(<a href="../../../net/opentsdb/core/TSQuery.html" title="class in net.opentsdb.core">TSQuery</a>&nbsp;query,
                                                          int&nbsp;index)</pre>
<div class="block">Prepares a query against HBase by setting up group bys and resolving
 strings to UIDs asynchronously. This replaces calls to all of the setters
 like the <code>setTimeSeries</code>, <code>setStartTime</code>, etc. 
 Make sure to wait on the deferred return before calling <code>runAsync</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - The main query to fetch the start and end time from</dd>
<dd><code>index</code> - The index of which sub query we're executing</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A deferred to wait on for UID resolution. The result doesn't have
 any meaning and can be discarded.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the query was missing sub queries or
 the index was out of bounds.</dd>
<dd><code><a href="../../../net/opentsdb/uid/NoSuchUniqueName.html" title="class in net.opentsdb.uid">NoSuchUniqueName</a></code> - if the name of a metric, or a tag name/value
 does not exist. (Bubbles up through the deferred)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.2</dd>
</dl>
</li>
</ul>
<a name="downsample-long-net.opentsdb.core.Aggregator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>downsample</h4>
<pre>void&nbsp;downsample(long&nbsp;interval,
                <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;downsampler)</pre>
<div class="block">Downsamples the results by specifying a fixed interval between points.
 <p>
 Technically, downsampling means reducing the sampling interval.  Here
 the idea is similar.  Instead of returning every single data point that
 matched the query, we want one data point per fixed time interval.  The
 way we get this one data point is by aggregating all the data points of
 that interval together using an <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core"><code>Aggregator</code></a>.  This enables you
 to compute things like the 5-minute average or 10 minute 99th percentile.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>interval</code> - Number of seconds wanted between each data point.</dd>
<dd><code>downsampler</code> - Aggregation function to use to group data points
 within an interval.</dd>
</dl>
</li>
</ul>
<a name="downsample-long-net.opentsdb.core.Aggregator-net.opentsdb.core.FillPolicy-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>downsample</h4>
<pre>void&nbsp;downsample(long&nbsp;interval,
                <a href="../../../net/opentsdb/core/Aggregator.html" title="class in net.opentsdb.core">Aggregator</a>&nbsp;downsampler,
                <a href="../../../net/opentsdb/core/FillPolicy.html" title="enum in net.opentsdb.core">FillPolicy</a>&nbsp;fill_policy)</pre>
<div class="block">Sets an optional downsampling function on this query</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>interval</code> - The interval, in milliseconds to rollup data points</dd>
<dd><code>downsampler</code> - An aggregation function to use when rolling up data points</dd>
<dd><code>fill_policy</code> - Policy specifying whether to interpolate or to fill
 missing intervals with special values.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if the aggregation function is null</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the interval is not greater than 0</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.2</dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre><a href="../../../net/opentsdb/core/DataPoints.html" title="interface in net.opentsdb.core">DataPoints</a>[]&nbsp;run()
          throws org.hbase.async.HBaseException</pre>
<div class="block">Runs this query.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The data points matched by this query.
 <p>
 Each element in the non-<code>null</code> but possibly empty array returned
 corresponds to one time series for which some data points have been
 matched by the query.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.hbase.async.HBaseException</code> - if there was a problem communicating with HBase to
 perform the search.</dd>
</dl>
</li>
</ul>
<a name="runHistogram--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runHistogram</h4>
<pre><a href="../../../net/opentsdb/core/DataPoints.html" title="interface in net.opentsdb.core">DataPoints</a>[]&nbsp;runHistogram()
                   throws org.hbase.async.HBaseException</pre>
<div class="block">Runs this query.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The data points matched by this query and applied with percentile calculation
 <p>
 Each element in the non-<code>null</code> but possibly empty array returned
 corresponds to one time series for which some data points have been
 matched by the query.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.hbase.async.HBaseException</code> - if there was a problem communicating with HBase to
 perform the search.</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the query is not a histogram query</dd>
</dl>
</li>
</ul>
<a name="runAsync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runAsync</h4>
<pre>com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/core/DataPoints.html" title="interface in net.opentsdb.core">DataPoints</a>[]&gt;&nbsp;runAsync()
                                               throws org.hbase.async.HBaseException</pre>
<div class="block">Executes the query asynchronously</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The data points matched by this query.
 <p>
 Each element in the non-<code>null</code> but possibly empty array returned
 corresponds to one time series for which some data points have been
 matched by the query.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.hbase.async.HBaseException</code> - if there was a problem communicating with HBase to
 perform the search.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.2</dd>
</dl>
</li>
</ul>
<a name="runHistogramAsync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runHistogramAsync</h4>
<pre>com.stumbleupon.async.Deferred&lt;<a href="../../../net/opentsdb/core/DataPoints.html" title="interface in net.opentsdb.core">DataPoints</a>[]&gt;&nbsp;runHistogramAsync()
                                                        throws org.hbase.async.HBaseException</pre>
<div class="block">Runs this query asynchronously.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The data points matched by this query and applied with percentile calculation
 <p>
 Each element in the non-<code>null</code> but possibly empty array returned
 corresponds to one time series for which some data points have been
 matched by the query.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.hbase.async.HBaseException</code> - if there was a problem communicating with HBase to
 perform the search.</dd>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the query is not a histogram query</dd>
</dl>
</li>
</ul>
<a name="getQueryIdx--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueryIdx</h4>
<pre>int&nbsp;getQueryIdx()</pre>
<div class="block">Returns an index for this sub-query in the original set of queries.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A zero based index.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.4</dd>
</dl>
</li>
</ul>
<a name="isHistogramQuery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isHistogramQuery</h4>
<pre>boolean&nbsp;isHistogramQuery()</pre>
<div class="block">Check this is a histogram query or not</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="setPercentiles-java.util.List-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setPercentiles</h4>
<pre>void&nbsp;setPercentiles(<a href="http://download.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Float.html?is-external=true" title="class or interface in java.lang">Float</a>&gt;&nbsp;percentiles)</pre>
<div class="block">Set the percentile calculation parameters for this query if this is 
 a histogram query</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>percentiles</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Query.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/opentsdb/core/MutableDataPoint.html" title="class in net.opentsdb.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/opentsdb/core/QueryException.html" title="class in net.opentsdb.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/opentsdb/core/Query.html" target="_top">Frames</a></li>
<li><a href="Query.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright ? 2010-2019,             The OpenTSDB Authors</small></p>
</body>
</html>
