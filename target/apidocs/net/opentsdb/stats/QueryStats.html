<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_211) on Mon Jun 24 15:16:40 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>QueryStats (OpenTSDB 2.4.0 API)</title>
<meta name="date" content="2019-06-24">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="QueryStats (OpenTSDB 2.4.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":9,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":9,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":9,"i31":10,"i32":10,"i33":10,"i34":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueryStats.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/opentsdb/stats/Histogram.html" title="class in net.opentsdb.stats"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/opentsdb/stats/QueryStats.html" target="_top">Frames</a></li>
<li><a href="QueryStats.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.opentsdb.stats</div>
<h2 title="Class QueryStats" class="title">Class QueryStats</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.opentsdb.stats.QueryStats</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">QueryStats</span>
extends <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class stores information about OpenTSDB queries executed through the 
 HTTP API. It maintains a list of running queries as well as a cache of the 
 last <code>COMPLETED_QUERY_CACHE_SIZE</code> number of queries executed. The
 stats can be observed via /api/query/stats.
 
 When a query is executed, it should instantiate an object of this class. 
 Once the query is completed, make sure to call <a href="../../../net/opentsdb/stats/QueryStats.html#markSent--"><code>markSent()</code></a>.
 
 The cache will store each query based on the combination of the client, query
 and the result code. If the same query was executed multiple times then it
 will increment the "executed" counter for the query in the cache.
 
 NOTE: Record everything in nano seconds, then convert to floating millis for 
 serialization.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.2</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a></span></code>
<div class="block">A list of statistics surrounding individual queries</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#QueryStats-java.lang.String-net.opentsdb.core.TSQuery-java.util.Map-">QueryStats</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;remote_address,
          <a href="../../../net/opentsdb/core/TSQuery.html" title="class in net.opentsdb.core">TSQuery</a>&nbsp;query,
          <a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;headers)</code>
<div class="block">Default CTor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#addScannerId-int-int-java.lang.String-">addScannerId</a></span>(int&nbsp;query_index,
            int&nbsp;id,
            <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;string_id)</code>
<div class="block">Adds a scanner for a sub query to the stats along with the description of
 the scanner.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#addScannerServers-int-int-java.util.Set-">addScannerServers</a></span>(int&nbsp;query_index,
                 int&nbsp;id,
                 <a href="http://download.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;servers)</code>
<div class="block">Adds or overwrites the list of servers scanned by a scanner</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#addScannerStat-int-int-net.opentsdb.stats.QueryStats.QueryStat-long-">addScannerStat</a></span>(int&nbsp;query_index,
              int&nbsp;id,
              <a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;name,
              long&nbsp;value)</code>
<div class="block">Adds a value for a specific scanner for a specific sub query.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#addStat-int-net.opentsdb.stats.QueryStats.QueryStat-long-">addStat</a></span>(int&nbsp;query_index,
       <a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;name,
       long&nbsp;value)</code>
<div class="block">Adds a stat for a sub query, replacing it if it exists.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#addStat-net.opentsdb.stats.QueryStats.QueryStat-long-">addStat</a></span>(<a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;name,
       long&nbsp;value)</code>
<div class="block">Add an overall statistic for the query (i.e.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#aggQueryStats--">aggQueryStats</a></span>()</code>
<div class="block">Aggregates the various stats from the lower to upper levels.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#collectStats-net.opentsdb.stats.StatsCollector-">collectStats</a></span>(<a href="../../../net/opentsdb/stats/StatsCollector.html" title="class in net.opentsdb.stats">StatsCollector</a>&nbsp;collector)</code>
<div class="block">Fetches data about the running queries and status of queries in the cache</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#equals-java.lang.Object-">equals</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;obj)</code>
<div class="block">Equals is based solely on the endpoint and the original query</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getException--">getException</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getExecuted--">getExecuted</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>org.jboss.netty.handler.codec.http.HttpResponseStatus</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getHttpResponse--">getHttpResponse</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getNumRunningQueries--">getNumRunningQueries</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../net/opentsdb/core/TSQuery.html" title="class in net.opentsdb.core">TSQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getQuery--">getQuery</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getQueryCompletedTimestamp--">getQueryCompletedTimestamp</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getQueryStartTimestamp--">getQueryStartTimestamp</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getQueryStats-int-boolean-">getQueryStats</a></span>(int&nbsp;index,
             boolean&nbsp;with_scanners)</code>
<div class="block">Returns a map of stats for a single sub query</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getRequestHeaders--">getRequestHeaders</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>static <a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getRunningAndCompleteStats--">getRunningAndCompleteStats</a></span>()</code>
<div class="block">Builds a serializable map from the running and cached query maps to be
 returned to a caller.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getSentToClient--">getSentToClient</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getStat-net.opentsdb.stats.QueryStats.QueryStat-">getStat</a></span>(<a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;stat)</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getStats--">getStats</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getStats-boolean-boolean-">getStats</a></span>(boolean&nbsp;with_sub_queries,
        boolean&nbsp;with_scanners)</code>
<div class="block">Returns measurements of the given query</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getTimeStat-net.opentsdb.stats.QueryStats.QueryStat-">getTimeStat</a></span>(<a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;stat)</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#getUser--">getUser</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#hashCode--">hashCode</a></span>()</code>
<div class="block">Returns the hash based on the remote address and the query</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#markSendFailed--">markSendFailed</a></span>()</code>
<div class="block">Leaves the sent_to_client field as false when we were unable to write to
 the client end point.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#markSent--">markSent</a></span>()</code>
<div class="block">Marks the query as complete and logs it to the proper logs.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#markSerializationSuccessful--">markSerializationSuccessful</a></span>()</code>
<div class="block">Marks a query as completed successfully with the 200 HTTP response code
 without an exception.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#markSerialized-org.jboss.netty.handler.codec.http.HttpResponseStatus-java.lang.Throwable-">markSerialized</a></span>(org.jboss.netty.handler.codec.http.HttpResponseStatus&nbsp;response,
              <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;exception)</code>
<div class="block">Marks a query as completed with the given HTTP code with exception and 
 moves it from the running map to the cache, updating the cache if it 
 already existed.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#queryStart--">queryStart</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#setEnableDuplicates-boolean-">setEnableDuplicates</a></span>(boolean&nbsp;enable_dupes)</code>&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#setUser-java.lang.String-">setUser</a></span>(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user)</code>&nbsp;</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#updateScannerStat-int-int-net.opentsdb.stats.QueryStats.QueryStat-long-">updateScannerStat</a></span>(int&nbsp;query_index,
                 int&nbsp;id,
                 <a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;name,
                 long&nbsp;value)</code>
<div class="block">Updates or adds a stat for a specific scanner.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/opentsdb/stats/QueryStats.html#updateStat-int-net.opentsdb.stats.QueryStats.QueryStat-long-">updateStat</a></span>(int&nbsp;query_index,
          <a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;name,
          long&nbsp;value)</code>
<div class="block">Increments the cumulative value for a cumulative stat.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="QueryStats-java.lang.String-net.opentsdb.core.TSQuery-java.util.Map-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>QueryStats</h4>
<pre>public&nbsp;QueryStats(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;remote_address,
                  <a href="../../../net/opentsdb/core/TSQuery.html" title="class in net.opentsdb.core">TSQuery</a>&nbsp;query,
                  <a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;headers)</pre>
<div class="block">Default CTor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>remote_address</code> - Remote address of the client</dd>
<dd><code>query</code> - Query being executed</dd>
<dd><code>headers</code> - The HTTP headers passed with the query</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../net/opentsdb/core/QueryException.html" title="class in net.opentsdb.core">QueryException</a></code> - if the exact query is already running, e.g if the
 client submitted the same query twice</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="hashCode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
<div class="block">Returns the hash based on the remote address and the query</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="equals-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;obj)</pre>
<div class="block">Equals is based solely on the endpoint and the original query</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="markSerializationSuccessful--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markSerializationSuccessful</h4>
<pre>public&nbsp;void&nbsp;markSerializationSuccessful()</pre>
<div class="block">Marks a query as completed successfully with the 200 HTTP response code
 without an exception.
 Moves it from the running map to the cache, updating the cache if it already
 existed.</div>
</li>
</ul>
<a name="markSerialized-org.jboss.netty.handler.codec.http.HttpResponseStatus-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markSerialized</h4>
<pre>public&nbsp;void&nbsp;markSerialized(org.jboss.netty.handler.codec.http.HttpResponseStatus&nbsp;response,
                           <a href="http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;exception)</pre>
<div class="block">Marks a query as completed with the given HTTP code with exception and 
 moves it from the running map to the cache, updating the cache if it 
 already existed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>response</code> - The HTTP response to log</dd>
<dd><code>exception</code> - The exception thrown</dd>
</dl>
</li>
</ul>
<a name="markSent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markSent</h4>
<pre>public&nbsp;void&nbsp;markSent()</pre>
<div class="block">Marks the query as complete and logs it to the proper logs. This is called
 after the data has been sent to the client.</div>
</li>
</ul>
<a name="markSendFailed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markSendFailed</h4>
<pre>public&nbsp;void&nbsp;markSendFailed()</pre>
<div class="block">Leaves the sent_to_client field as false when we were unable to write to
 the client end point.</div>
</li>
</ul>
<a name="getRunningAndCompleteStats--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRunningAndCompleteStats</h4>
<pre>public static&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;getRunningAndCompleteStats()</pre>
<div class="block">Builds a serializable map from the running and cached query maps to be
 returned to a caller.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map for serialization</dd>
</dl>
</li>
</ul>
<a name="collectStats-net.opentsdb.stats.StatsCollector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectStats</h4>
<pre>public static&nbsp;void&nbsp;collectStats(<a href="../../../net/opentsdb/stats/StatsCollector.html" title="class in net.opentsdb.stats">StatsCollector</a>&nbsp;collector)</pre>
<div class="block">Fetches data about the running queries and status of queries in the cache</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>collector</code> - The collector to write to</dd>
</dl>
</li>
</ul>
<a name="addStat-net.opentsdb.stats.QueryStats.QueryStat-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addStat</h4>
<pre>public&nbsp;void&nbsp;addStat(<a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;name,
                    long&nbsp;value)</pre>
<div class="block">Add an overall statistic for the query (i.e. not associated with a sub 
 query or scanner)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The name of the stat</dd>
<dd><code>value</code> - The value to store</dd>
</dl>
</li>
</ul>
<a name="addStat-int-net.opentsdb.stats.QueryStats.QueryStat-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addStat</h4>
<pre>public&nbsp;void&nbsp;addStat(int&nbsp;query_index,
                    <a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;name,
                    long&nbsp;value)</pre>
<div class="block">Adds a stat for a sub query, replacing it if it exists. Times must be
 in nanoseconds.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query_index</code> - The index of the sub query to update</dd>
<dd><code>name</code> - The name of the stat to update</dd>
<dd><code>value</code> - The value to set</dd>
</dl>
</li>
</ul>
<a name="aggQueryStats--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>aggQueryStats</h4>
<pre>public&nbsp;void&nbsp;aggQueryStats()</pre>
<div class="block">Aggregates the various stats from the lower to upper levels. This includes
 calculating max and average time values for stats marked as time based.</div>
</li>
</ul>
<a name="updateStat-int-net.opentsdb.stats.QueryStats.QueryStat-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateStat</h4>
<pre>public&nbsp;void&nbsp;updateStat(int&nbsp;query_index,
                       <a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;name,
                       long&nbsp;value)</pre>
<div class="block">Increments the cumulative value for a cumulative stat. If it's a time then
 it must be in nanoseconds</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query_index</code> - The index of the sub query</dd>
<dd><code>name</code> - The name of the stat</dd>
<dd><code>value</code> - The value to add to the existing value</dd>
</dl>
</li>
</ul>
<a name="addScannerStat-int-int-net.opentsdb.stats.QueryStats.QueryStat-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addScannerStat</h4>
<pre>public&nbsp;void&nbsp;addScannerStat(int&nbsp;query_index,
                           int&nbsp;id,
                           <a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;name,
                           long&nbsp;value)</pre>
<div class="block">Adds a value for a specific scanner for a specific sub query. If it's a time
 then it must be in nanoseconds.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query_index</code> - The index of the sub query</dd>
<dd><code>id</code> - The numeric ID of the scanner</dd>
<dd><code>name</code> - The name of the stat</dd>
<dd><code>value</code> - The value to add to the map</dd>
</dl>
</li>
</ul>
<a name="addScannerServers-int-int-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addScannerServers</h4>
<pre>public&nbsp;void&nbsp;addScannerServers(int&nbsp;query_index,
                              int&nbsp;id,
                              <a href="http://download.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;servers)</pre>
<div class="block">Adds or overwrites the list of servers scanned by a scanner</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query_index</code> - The index of the sub query</dd>
<dd><code>id</code> - The numeric ID of the scanner</dd>
<dd><code>servers</code> - The list of servers encountered</dd>
</dl>
</li>
</ul>
<a name="updateScannerStat-int-int-net.opentsdb.stats.QueryStats.QueryStat-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateScannerStat</h4>
<pre>public&nbsp;void&nbsp;updateScannerStat(int&nbsp;query_index,
                              int&nbsp;id,
                              <a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;name,
                              long&nbsp;value)</pre>
<div class="block">Updates or adds a stat for a specific scanner. IF it's a time it must
 be in nanoseconds</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query_index</code> - The index of the sub query</dd>
<dd><code>id</code> - The numeric ID of the scanner</dd>
<dd><code>name</code> - The name of the stat</dd>
<dd><code>value</code> - The value to update to the map</dd>
</dl>
</li>
</ul>
<a name="addScannerId-int-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addScannerId</h4>
<pre>public&nbsp;void&nbsp;addScannerId(int&nbsp;query_index,
                         int&nbsp;id,
                         <a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;string_id)</pre>
<div class="block">Adds a scanner for a sub query to the stats along with the description of
 the scanner.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query_index</code> - The index of the sub query</dd>
<dd><code>id</code> - The numeric ID of the scanner</dd>
<dd><code>string_id</code> - The description of the scanner</dd>
</dl>
</li>
</ul>
<a name="queryStart--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryStart</h4>
<pre>public&nbsp;long&nbsp;queryStart()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the start time of the query in nano seconds</dd>
</dl>
</li>
</ul>
<a name="setUser-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUser</h4>
<pre>public&nbsp;void&nbsp;setUser(<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;user)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>user</code> - The user who executed the query</dd>
</dl>
</li>
</ul>
<a name="getUser--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUser</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getUser()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The user who executed the query if known</dd>
</dl>
</li>
</ul>
<a name="getRequestHeaders--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRequestHeaders</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getRequestHeaders()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The multi-mapped set of request headers associated with the query</dd>
</dl>
</li>
</ul>
<a name="getNumRunningQueries--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumRunningQueries</h4>
<pre>public&nbsp;int&nbsp;getNumRunningQueries()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of currently running queries</dd>
</dl>
</li>
</ul>
<a name="getException--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getException</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getException()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An exception associated with the query or null if the query 
 returned successfully.</dd>
</dl>
</li>
</ul>
<a name="getHttpResponse--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHttpResponse</h4>
<pre>public&nbsp;org.jboss.netty.handler.codec.http.HttpResponseStatus&nbsp;getHttpResponse()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The HTTP status response for the query</dd>
</dl>
</li>
</ul>
<a name="getExecuted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExecuted</h4>
<pre>public&nbsp;long&nbsp;getExecuted()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of times this query has been executed from the same
 endpoint.</dd>
</dl>
</li>
</ul>
<a name="getQuery--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQuery</h4>
<pre>public&nbsp;<a href="../../../net/opentsdb/core/TSQuery.html" title="class in net.opentsdb.core">TSQuery</a>&nbsp;getQuery()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The full query</dd>
</dl>
</li>
</ul>
<a name="getQueryStartTimestamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueryStartTimestamp</h4>
<pre>public&nbsp;long&nbsp;getQueryStartTimestamp()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>When the query was received and started executing, in ms</dd>
</dl>
</li>
</ul>
<a name="getQueryCompletedTimestamp--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueryCompletedTimestamp</h4>
<pre>public&nbsp;long&nbsp;getQueryCompletedTimestamp()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>When the query was marked as completed, in ms</dd>
</dl>
</li>
</ul>
<a name="getSentToClient--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSentToClient</h4>
<pre>public&nbsp;boolean&nbsp;getSentToClient()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Whether or not the data was successfully sent to the client</dd>
</dl>
</li>
</ul>
<a name="getStats--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStats</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;getStats()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map with the subset of query measurements, not including scanners 
 or sub queries</dd>
</dl>
</li>
</ul>
<a name="getStats-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStats</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;getStats(boolean&nbsp;with_sub_queries,
                                   boolean&nbsp;with_scanners)</pre>
<div class="block">Returns measurements of the given query</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>with_scanners</code> - Whether or not to dump individual scanner stats</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map with stats for the query</dd>
</dl>
</li>
</ul>
<a name="getQueryStats-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueryStats</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;&nbsp;getQueryStats(int&nbsp;index,
                                        boolean&nbsp;with_scanners)</pre>
<div class="block">Returns a map of stats for a single sub query</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - The sub query to fetch</dd>
<dd><code>with_scanners</code> - Whether or not to print detailed stats for each scanner</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A map with stats to print or null if the sub query didn't have any
 data.</dd>
</dl>
</li>
</ul>
<a name="getStat-net.opentsdb.stats.QueryStats.QueryStat-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStat</h4>
<pre>public&nbsp;long&nbsp;getStat(<a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;stat)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A stat for the overall query or -1 if the stat didn't exist.</dd>
</dl>
</li>
</ul>
<a name="getTimeStat-net.opentsdb.stats.QueryStats.QueryStat-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeStat</h4>
<pre>public&nbsp;double&nbsp;getTimeStat(<a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats">QueryStats.QueryStat</a>&nbsp;stat)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a timed stat for the overall query or NaN if the stat didn't exist</dd>
</dl>
</li>
</ul>
<a name="setEnableDuplicates-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setEnableDuplicates</h4>
<pre>public static&nbsp;void&nbsp;setEnableDuplicates(boolean&nbsp;enable_dupes)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>enable_dupes</code> - whether or not to allow duplicate queries to run</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueryStats.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/opentsdb/stats/Histogram.html" title="class in net.opentsdb.stats"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/opentsdb/stats/QueryStats.QueryStat.html" title="enum in net.opentsdb.stats"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/opentsdb/stats/QueryStats.html" target="_top">Frames</a></li>
<li><a href="QueryStats.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright ? 2010-2019,             The OpenTSDB Authors</small></p>
</body>
</html>
